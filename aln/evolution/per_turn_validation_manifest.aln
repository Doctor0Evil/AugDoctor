version 1.0
schema organichain.neuropc.per-turn-validation.v1
host-id bostrom18sd2ujv24ual9c9pshtxys6j8knh6xaead9ye7
profile-id per_turn_validation_2026v1
hextag 0xPTVM-2026-01-A

actions
  # 1. Intent detection + proposal shaping
  - id action.intent-detection
    rust-module "hci/intentstopatterns.hci.js"
    rust-guard  "src/evolution/intent_compiler.rs"
    invariants
      - "intent-must-belong-to-typed-vocabulary"
      - "intent-must-map-to-existing-pattern-template"
      - "pattern-template-owner == host-did"
      - "no-direct-path-from-LLM-to-raw-pattern"

  # 2. Turn-level validation (DefaultProposalValidator)
  - id action.turn-validation
    rust-module "src/biophysical_chain/neuroautomationpipeline.rs"
    rust-guard  "src/biophysical_chain/default_proposal_validator.rs"
    invariants
      - "proposal-must-reference-host-constraints-aln"
      - "intensity <= max_intensity_from_constraints"
      - "duration <= max_duration_from_constraints"
      - "reversibility-class-allowed"

  # 3. Organichain consensus + evolution interval
  - id action.evolution-interval
    rust-module "src/organichain/organichainconsensus.rs"
    rust-guard  "src/organichain/evolution_interval_guard.rs"
    invariants
      - "cantakeevolutionstep(now) == true"
      - "daily-step-count <= max-steps-per-day"
      - "min-seconds-between-steps-respected"

  # 4. Token-gated eco + evolution budgets
  - id action.eco-and-evolve-budgets
    rust-module "src/eco/eco_governor.rs"
    rust-guard  "src/eco/eco_budget_guard.rs"
    invariants
      - "brain_tokens >= min-required"
      - "eco_nj_today + eco_nj_turn <= eco_daily_budget"
      - "evolve_tokens_incremented-on-success-only"

  # 5. Reversible per-turn OrganicCPU actuation
  - id action.reversible-actuation
    rust-module "src/biophysical_chain/automation_cycle.rs"
    rust-guard  "src/organiccpu/reversible_actuation_guard.rs"
    invariants
      - "pattern.reversibility == FullyReversible"
      - "targets in allowed_targets_set"
      - "actuation-only-when-all-prior-guards-pass"

  # 6. Irreversible / partially-reversible turns
  - id action.irreversible-turn
    rust-module "src/biophysical_chain/irreversible_turns.rs"
    rust-guard  "src/governance/irreversible_token_guard.rs"
    invariants
      - "proposal.contains_irreversible_pattern == true"
      - "irreversible_token.present-and-valid == true"
      - "irreversible_token.transcripthash == turn.transcripthash"

  # 7. Deep-domain excavation (B1â€“B4, ?/!)
  - id action.deep-domain-excavation
    rust-module "biospectre-core/src/deep_object_router.rs"
    rust-guard  "src/evolution/deep_excavation_turn.rs"
    invariants
      - "B-layer-assignment-determined-by-SN3-S?-eco-lifeforce"
      - "rights-profile-allows-layer"
      - "B3/B4-epochs <= daily-layer-budgets"

  # 8. Turn-level explanation + traceability
  - id action.traceability
    rust-module "src/telemetry/evolution_turn_logger.rs"
    rust-guard  "src/telemetry/qpudatashard_writer.rs"
    invariants
      - "transcripthash.nonempty"
      - "human_explanation.length >= min-words"
      - "qpudatashard.deepobjectexcavationprofile-written-when-B3-or-B4"

  # 9. AugmentationRight + DeepDomainRights meta-governance
  - id action.meta-governance
    rust-module "src/governance/augmentationright.rs"
    rust-guard  "src/governance/deep_domain_rights.rs"
    invariants
      - "augmentationright.verify_rights_safe == RightsSafe"
      - "deep_domain_rights.verify_rights_safe == RightsSafe"
      - "ai_platforms_may_execute == false"

  # 10. Outer-world interfacing (attestations only)
  - id action.outer-attestation
    rust-module "src/telemetry/attestation_bridge.rs"
    rust-guard  "src/telemetry/outer_attestation_guard.rs"
    invariants
      - "no-raw-neuro-telemetry-leaves-inner-ledger"
      - ".bclog contains hashes-only"
      - "no-defi-or-stake-dependence-on-inner-tokens"
end
